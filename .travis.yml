dist: trusty
sudo: false
language: java
jdk:
- oraclejdk8
branches:
  except:
  - "/\\+travis\\d+$/"
env:
  global:
  - secure: kjlJbq0MF4ksHxYzaiEqyYyL6bo75GIpbrA6G4/TT4opCMJ8rrbXA1mRMIX/mi1v1KSZstDKjn7J5y2Qb5SacTYHo2yrNM/YailyxnLEh4WwgHbTkczHPgUOEMBEYc6d92igGX1z8Valu4K5WDh4d+gk7ei1przhk7LpnjnZ+zzsr7DVeWPmJcAxFcv4BhXQDgFkkD4miR1SCUb2W7nnE47F8MpuElpeBQGdZUaYfXbfZ50UwejHvrxYpaQMf8n2q1P+/ABQ6FqMatffPewHId2Br9m/+2n+EXAIsSs72sFPfGVcM+C37Umk2Cwh/3xm3KytQaobXiHmpmKdNXvWVfTObrLA9mKXbDD2w8mpMnt0mD9BQhaTZJD2HZ4M0bZzM2fCv2dim0blYtYoniB+idxo9xO1tdBC8Y0gLK+FkRNdRCaoF6YdHUytmbLfEj+uKGLIWObWftmIedNEbh5gB7kCd5NF9jwxK3H9IMMQPJCJJkw10Cq0i5Gand8zyNvNFAIZnZv56IAFAUkcVjqlhcUd4gvB3jtM1u3MRuwlbpsJjPYhEThXAj1hlnumQShPz+zx7qOdzq/EhLpKL4/3sodgtflfDhczat+wFcHQ3yWyKGzq0vuNBKLLL01QoM+x0Ff/EeYa0hRwA0TocRyNxfkofeHxxMKlFLbjYGVcg2E=
  - secure: Eh5XmntZ9/2/D8AQOwi/z2YDbmkvF64gZr7BaUxIsosLanMXlyQAfb4e36Czz1Z5aPwGiJ57FJadkTM6s0tUTr4mz1Kt2tWTqNBoU5G6qcCBme0J/3/Q6rcliH+JRQrsbvJFxHI2aNFYG7yb2OJxSBaGUmzMHj2OvoQpcO0juT4S72Hupzi+6nHhRYhtwNZyfrcz5q9DmE5dRrOYztNucJW5CNGya9PJzMP4anDEFypKPsZ9BnWqRLq3iSnBuk6DiXavj2C1LdJQKuMdOJfLE2GmBWUgLDCgRH8QvoqBymvCldexBqn16MDMgFAYaKWLgtqJDEe48GEitUFKOQFzM8+16e67w6t7tIY1HadqJ1PaUKdUlMPKC50KkyFG5t+llpNPuNuM2zrsDP4CwhReUDnWBkcC0uk0oxB8CKkALV+tbqHk9obyGv5ceeNG+EOjYG7KiXZ3gGoXdTH4C4wqLqK0sWjmFPrQ1SIXkCfGL0YDkzSjAfjQHdYPM8pvsLZK+268fAaisIpgm2Y+XI/aKhPtyvFTNzNmCbk5Q97syKadVRg/MIMTuTAkJhwUc8DHXMQxMcU5f9OCSlFBGFHlzBmfdniLG3uofJSUoTgZZhVdD3OpoqzQQmDo38fMbbFl/4MB77g2ggkjdHjMDxMRG8PVbQswzWdQdFZZ5tCmqo8=
  - secure: gHOUeg30xC5EXsyOkhe7/SUJgTmQ880o9Hx/4JnC8/iDRpgJkxY47zbrET4SYNbowbpgtHJ8gz6LygmRWdZ7GZx0M84glL6BH9FqZnyfo+pCF0Jk8Ebr1rh+UB27CuAOqL9NMoDJTg6VGg2RP3e3ae5PuU09HsYktsMPaYyksPtsj9zrZ+CqTHU1lINaolKrE/MtOMTFOX3kR4aNCwcrm7VhEIYoVMV7orLRELI2dasPCJE9n8WLowf2dZqaNfYjXfHIm8jVEZ/9nUxOxvGQf9p/mAWYge7UIcXnEwUXRWZ+o1deqsME4W8ybbTm4uUW1qG6U8fxxbaa/bgBMY+0I4+1SQJWqLE0oO+LIILhn5dN16kGmsdKXhhuriQ0gaID9C5/27vUdOOYhmDL/j5aV3s0kZ8JzrJSJ9HG58I+1hqV0BDRUKmLY7+zeqv12NbZt0pFqJicUo+YEY+iCUExeSVahda9PN5Qbe1pQdepPc1OLMA0JK+BAMu5yQtUdNGMWcH6kN56qoH+5bWDfMNCiLBxiEuEYS47V8blJ/fM2pKGcyCTy6pWV/DopwcKrAMW/Z915UTnBAlmCYbgPeKojvqnc5PvXsUlHYOfFfRCQg/IxJ9NT36KfIXcWTtaBMzHZGbQFfa/Lm6vbOR6Wulqrt2l/6ObUJ3vyd3K9hsF3jc=
  - secure: CTtIUmpT7IaJ7pb3eHODH/IfZFG2BYCg/T4SmnWJigDustTGrmkDDNfBInQUPXNPhRbGOjod324eGxlsDNQL13k7XiHuNCJ7tgpIX6IOqfVrBPYloAZaUyqne2xtfSq8sGp4X3uW3kptST7ZJcpvzBwTXL3Ho35FHfVE667IXTSoW51jOR6iapiURnPZ35O+TroH6DnBCQdWmHEn2I92T09WfmlYbNjlXtAT+bJKEhseUqnVEnKOqf+fwnv+TEW76wwTB4UgYNckGLX4clkbfstcUobqGkXoGHhmxqGnTvCYIMbJ2BdznJScSLug5q6LkbG/JDn053kd+SZEMEifVB7FCUSUVzwAuhoOPEhe7hJ+z4HgE9TEU+SOK51X0z+8DIaP3ncRxdhEX679Y8P8QkOpIrWXHLIOBFoc1jCHQk8W3yns/vcS+XrwYWXkFOTmY0VAdPkUde3XW/p0fDIqk/SCi91tBlcC4dNG2bsODDyF5eywKSCvQ5RTVVmH4/cEi/LcLGtwxrAupvPGvpwTDOfYb4p/h1qZQP9OkIb1enn4iwC589FDvBjUoDKHewZkTKtrYw/18RUUBtO98htd5YzoGJh2UlP+8xMX9qTO8mt/c95GS9PW7oX7kUsRFBkWb7c22Czk+swch17UYqHpjuMGO6Nm+dS8R+rplgcmssM=
  - secure: bGdrh0lWB8qqJ/nwwx7VBZSe/5qmggqGtuBA0oB9i7NCOauLaxHjnpFfNk4KtwTd/wb01BnetyH+IvdjqwIYWPmiVilvri8MrjBE6Y9IqdVnrX7rf9HDAFOR+VB9dAfl5lNhxY9DS+alLs3dyzQb93jQWYXNjyVYOi+zKS9ieLmAoVx8rESJN252SxySwauSJO3SlnpzvHpbP8l2M1r3+lLe+Demf3Pr8pyK/hl9KREW/uPYNZXxsZrRYSQ9UOsh5h9xKOQL2XDCy5dHAAgjOxb5yVAGjRgOAxTQtSVf4LlvxYeuAvOwYdeyIVI0cMcXbo3b0lnuQjXWkdbjZIZguLZqvq14jjqdixngOd/A3vKS6Us10MH7lZlnOCfL/yjS+J13yvKBXkkbUZm7Gp/ofmm2K3wi2cOj1fhY1uKsFk09huFqt32JAkFAXKJPNbzKr67XX0goMyqORaDqq9/ifzxd5Qm1FcCh1vAYVhpxAUDYIZPrRV9HOeVy4zVOuBW+ku/4qWYsx89Vi6V4Mb+kfYB7dnQXXh0ZL8BmpS8e3b+uAqAJh44oKbtYLmTFBhcqpCqmm5CeCNNGIO/RLDPfvdS3OPFLkgNU+gxCUaXVRBurzSt26C7VQr00CnrKoQLzOVCDKEgP4DMCJ5Xm2F+2W0S2FLfO3hoKMKZP3XqGRwY=
  - secure: WANQxnmcV+VfZonqQz74L+IA1N4/+S0lzUfZoMMQFuOYl9tF5wIhWXY1A6B1mLcb47Ph01VAO88loO784h2Fd2ifGeX5dA/AfAbFTLBKAsVPUcflBSEtQW7gFieuHeRDXFtFJTHGis/9CHL81IM148sokbswHX7me168mh1phnoO9J4Bu4sIUr7wPynyu/00Zqm2Qg9x/9JR/TLixjaTRYvEqwvA5fU0gi1GnH/mhlC6ODdCiYgjDmdNdmeBY4pFSEdc9tBYZAxwTbmxJkTStVaoRmWERizbu5d0zjHhBsonSveBAgvK/8Ajfu6gh0T40pSvwxuw24INWNE+LQqAyWUJFj7CGO3A2/AmaMBHVX4gTnV7cXTRYHQdFhupyVuLVWf2Fh2Qy946mdLsgjMf4aMy1ykIUB6CSCtnF4aNPLMlNvn7CyYPI6eMnUWmRCCjV7H22ci1oTjYGzB/OZAqnR3nOKgzJ70oBTFUIcftYz/D6Dd8VvIBWvXJGwrlEvNPwlME/A4erFX7BK2H0DHoBzRo/fY5tJC7BWSYuAD+mEhbZSBGufDrd2FzMgiEkkUwFZathigbS3Jmurw+fytqlnO8bWWbXeGIJ8A22W4tLtcQT/CzYaiOPEcUVLmlvNQCArqvb701eIkRHrGgPXSrXuHmM9D0EF4tziUMuv6ojJg=
addons:
  apt:
    packages:
    - openssl
    - gnupg
install: true
script: bash src/main/scripts/travis-build.bash
notifications:
  email: false
  webhooks:
    on_success: always
    on_failure: always
    on_start: always
    on_cancel: always
    on_error: always
    urls:
    - https://webhook.atomist.com/travis
cache:
  directories:
  - "$HOME/.m2"
deploy:
  provider: releases
  api_key:
    secure: o2eWCxgYYUsvN0w/msEjF14xwBH3qFUOrffhEOh1fgsDHgPO9IutJBVTtfx6LXqx+4S9bm+KjYzgL2Ko8lDzuLKBRBFZ+s7k9CIGW1lLFfA7u1nW/lUhXI25M0LZBEZ0pmjRqRWX42T+VSdugu0Thc2UAJyd/47/h5E6o2tsOnB2Tzz0/sw7hSnPESRk4jTEEUFHZ+7uXKSobKb2pwWiSFOFpiCawNPDtTV0gtucrjjtU7dn28XEQXzAkEekXOmH4QsrtKiFKOGzYMZB3nHHuali6SQ2s3Beb0VgKk5hmtixCQ2A9XD+oTWrHiQFv4PnEANepSgjg9FkZpJuWBmX4c6SPCh8IrKiWD+NgMkR4bHodIv6A56OovUiPpfBlArLdDDefa2LFbk0JA+TTTO4TmcB9DEeRTeevrjbv3Kmth/Wa2ZSaHKMgtXJ/DNillDdTN0V1gv4G29xHkfXz6TUSgbvMOV6Sh7q2G0yJ+kZeZvBXbp3CDKkaqDFAIPf1CWULLnoHf9aWdzb7+zL64G1xiBj1eOtFgINMVsNXCAaBsQQOMZ4ZXajT5nHM3YsC0j2WDnzXxCEvnNNnaQzvnXqR6jlXa7arbw7X0PiBFJGNloprXw9Ifs/GF66yNan2pab7aBJOtS/MHjFloayi6hiG3su2AU9wd9N09F5Digrxt8=
  on:
    tags: true
    condition: "$TRAVIS_TAG =~ ^[0-9]+\\.[0-9]+\\.[0-9]+$"
before_install:
- openssl aes-256-cbc -K $encrypted_de282c3465e2_key -iv $encrypted_de282c3465e2_iv
  -in atomist_sec.gpg.enc -out atomist_sec.gpg -d
